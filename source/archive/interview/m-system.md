---
title: 系统
categories:
  - 面试
  - 系统
tags:
  - 面试
date: 2021-03-10 09:28:35
---

## 进程和线程以及它们的区别

- 进程是对运行时程序的封装，是系统进行资源调度和分配的的基本单位，实现了操作系统的并发；
- 线程是进程的子任务，是CPU调度和分派的基本单位，用于保证程序的实时性，实现进程内部的并发；
- 一个程序至少有一个进程，一个进程至少有一个线程，线程依赖于进程而存在；
- 进程在执行过程中拥有独立的内存单元，而多个线程共享进程的内存。 

## 线程通信？线程安全？



## 进程的通信方式

主要分为：管道、系统**IPC**（包括消息队列、信号量、共享存储）、**SOCKET**

管道主要分为：普通管道**PIPE** 、流管道（**s_pipe**）、命名管道（**name_pipe**）

- **管道（pipe）及命名管道（named pipe）**：管道可用于具有亲缘关系的父子进程间的通信，命名管道除了具有管道所具有的功能外，它还允许无亲缘关系进程间的通信；

- **信号量**：是一个计数器，用来控制多个进程对资源的访问，它通常作为一种锁机制。
- **消息队列：**消息队列是消息的链接表，存放在内核中并由消息队列标识符标识。它克服了上两种通信方式中信号量有限的缺点，具有写权限得进程可以按照一定得规则向消息队列中添加新信息；对消息队列有读权限得进程则可以从消息队列中读取信息；
- **共享内存：**可以说这是最有用的进程间通信方式。它使得多个进程可以访问同一块内存空间，不同进程可以及时看到对方进程中对共享内存中数据得更新。这种方式需要依靠某种同步操作，如互斥锁和信号量等；
- **信号量：**主要作为进程之间及同一种进程的不同线程之间得同步和互斥手段；
- **套接字：**这是一种更为一般得进程间通信机制，它可用于网络中不同机器之间的进程间通信，应用非常广泛。

## 线程状态

- 就绪状态：进程已获得除处理机以外的所需资源，等待分配处理机资源；
- 运行状态：占用处理机资源运行，处于此状态的进程数小于等于CPU数；
- 阻塞状态： 进程等待某种条件，在条件满足之前无法执行；

## 线程同步的方式有哪些

- 互斥量：采用互斥对象机制，只有拥有互斥对象的线程才有访问公共资源的权限。因为互斥对象只有一个，所以可以保证公共资源不会被多个线程同时访问。
- 信号量：它允许同一时刻多个线程访问同一资源，但是需要控制同一时刻访问此资源的最大线程数量。
- 事件（信号）：通过通知操作的方式来保持多线程同步，还可以方便的实现多线程优先级的比较操作。

## 线程怎么调度



## 什么是死锁

在两个或者多个并发进程中，如果每个进程持有某种资源而又等待其它进程释放它或它们现在保持着的资源，在未改变这种状态之前都不能向前推进，称这一组进程产生了死锁。通俗的讲，就是两个或多个进程无限期的阻塞、相互等待的一种状态。

## 死锁产生的四个必要条件

1. 互斥：至少有一个资源必须属于非共享模式，即一次只能被一个进程使用；若其他申请使用该资源，那么申请进程必须等到该资源被释放为止；
2. 请求与保持条件：一个进程因请求资源而阻塞时，对已获得的资源保持不放。
3. 不剥夺条件：进程已获得的资源，在末使用完之前，不能强行剥夺。
4. 循环等待条件：若干进程之间形成一种头尾相接的循环等待资源关系。

## 处理死锁的基本策略

- 解决死锁的基本方法主要有 预防死锁、避免死锁、检测死锁、解除死锁 、鸵鸟策略 等

## 缓存溢出及其原因与危害

缓冲区溢出是指当计算机向缓冲区填充数据时超出了缓冲区本身的容量，溢出的数据覆盖在合法数据上。

危害有以下两点：

- 程序崩溃，导致拒绝额服务
- 跳转并且执行一段恶意代码

造成缓冲区溢出的主要原因是程序中没有仔细检查用户输入。

## 虚拟内存、共享内存、常驻内存



## 软链接和硬链接



## 文件和目录的区别



## 进程间通信？线程间通信



## 多线程通信为何比多进程通信麻烦



## 多线程和多进程注意要点，应用场景



## 地址空间是什么



## 虚拟地址与物理地址的区别与联系



## 堆区与栈区的区别



## 垃圾回收 相比程序员直接 free 和 delete 之类的，有什么优化（内存碎片）



## 如何看Linux程序是多线程还是多进程的(ps:PPID,PID)



## Shell编程



## 分布式框架，singleflight并发，深挖，一直挖到sync.WaitGroup



## sync.WaitGroup



## 什么是分布式系统



## 由分布式系统引出负载均衡




## 负载均衡算法有哪些
