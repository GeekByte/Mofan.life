---
title: 数组
categories:
  - Go
tags:
  - Go
date: 2021-11-18 21:01:17
---

数组是由相同类型的元素的集合组成的数据结构，数组中的元素由一块连续的内存存储，因此可通过索引快速地访问数组中特定的元素。

Go的数组在编译期间初始化，初始化的过程会直接读写内存（如元素的赋值与更新）。数组初始化后无法改变，即数组长度与元素类型不可变。

Go中数组的类型在编译期间确定，类型受元素类型与数组长度影响，只有二者相同才认为是相同类型数组。

Go中数组在编译期间，会根据数组长度决定数组初始化的位置

* 长度小于等于4的数组在栈中初始化。
* 大于4的数组在静态存储区初始化，然后拷贝到栈上。

Go数组的表示：数组第一个元素的指针，元素类型的长度，元素的数量

Go为保证数组和字符串的访问不越界，分别在编译阶段与运行阶段进行判断。

* 编译阶段：可发现较简单的错误，如：非整数索引、负数索引、大于数组长度的索引
* 运行阶段：适用于用变量访问数组
