---
title: Unix与C的前世今生
categories:
  - 传奇
tags:
  - Unix
  - C
  - Linux
date: 2021-02-23 14:57:08
---

### 序言

在当下的服务器领域，Linux 操作系统一直处于霸主地位，难以撼动。提起 Linux，我们常常会联想到 Unix，因为 Linux 是在Unix的基础上发展而来的，所以，现在也称 Linux 为 类Unix 的操作系统，同时，Unix 系统也是世界上第一个由 C 语言编写的操作系统，而 Unix 也促使了 C 语言的诞生，关于它们之间的关系，读完本文章你将很快有了答案。

### Mutics 和 Unix

1964年，在 Unix 诞生之前，美国贝尔实验室、通用电气、和麻省理工学院联合开发了一个项目，叫做 Multics操作系统。Multics 在当时取得了巨大的成功，因为它给了人们一个真正可用并且很稳定的操作系统。当时从学校到政府机关，到处都在安装 Multics。

但是时间到了 1969年，因为种种原因，贝尔实验室的 Ken Thompson 和 Dennis Ritchie 决定放弃Multics，于是贝尔实验室退出了这个项目。Ken Thompson 和 Dennis Ritchie 决定开发一个更为简单并且高效的操作系统，并把它命名为 Unix，于是他们俩就成为了 Unix 之父。

和 Unix 相比，Multics 有两个比较致命的缺点，一是需要安装在非常昂贵的机器上，普通的计算机没有办法安装。二是设计非常复杂，这也是贝尔实验室的工程师退出的主要原因。不过 Ken Thompson 和 Dennis Ritchie 还是从 Multics 上得到很多启发，可以说 Unix 是 Multics 的简化以及更新。

说到这里，C 语言还没有出场，因为它在那个时候还没有被发明出来。Unix 操作系统的第一个版本是纯粹用汇编语言编写出来的。一直到了 1974 年，第四个版本才改用 C 语言进行开发。在讲 C 语言之前，我们还不得不先说一下 BCPL 和 B 语言。

### BCPL 和 B 语言

Ken Thompson 和 Dennis Ritchie 最初用汇编语言来开发 Unix，因为在那个时候，所有的操作系统都是用汇编语言来开发的。不过当时 Multics 是一个例外，Multics 项目组使用了 PL/1 来进行开发。它的价值就在于向世人展示了用一门高级语言也可以开发出一套操作系统。Ken Thompson 和 Dennis Ritchie 也受到了鼓舞，他们决定用汇编之外的语言重新开发 Unix。他们最初的选择是 BCPL。BCPL 最早是由 Martin Richards 发明用来开发编译器的语言。但是 Ken Thompson 和 Dennis Ritchie 很快发现，如果他们想在小型计算机 DEC PDP-7 上使用 BCPL，就需要对这个语言本身进行一些修改。于是就产生了后来的 B 语言。

B 语言作为系统开发语言，也存在很多的缺点，于是后来它又被改进为 NB 语言(NB)。可是 NB 还是有很多的问题，于是 Dennis Ritchie 就又发明了 C 语言，最终在 1974年，Ken Thompson 和 Dennis Ritchie 一起用 C 语言重新编写了第四版的 Unix 系统。现在，C 语言已经成为了操作系统开发最常用的编程语言。

### C 语言取代 B 语言

Dennis Ritchie 曾经解释过自己为什么要发明 C 语言，以及使用 B 语言过程中遇到的一些困难：

* 只能处理计算机字：B语言所有的操作都是通过计算机字来处理的，在那个时候，能够处理字节的编程语言对工程师们来说是一个梦。

- 没有类型：准确的说，B语言只有一种类型，计算机字。如果你有一个字符串，可能你需要把它分成多个变量来保存，比如一个21个字符的字符串，就需要 6 个变量。
- 不支持浮点类型运算：在那个时候，大部分硬件已经都可以开始支持浮点运算了，但是 B 语言还不支持这种操作。 

B 语言的这些问题，开发低效，在机器上运行缓慢等等，都迫使 Dennis Ritchie 发明一种新的编程语言。最开始被称为 New B，后来逐渐演化成了 C 语言。

C 语言解决了 B 语言的很多缺陷，并很快成为了开发操作系统最流行的一种编程语言。新版本的 Unix 以及今天很多类 Unix 的操作系统都是用 C 语言开发出来的。



好了，讲到这里，我想大家都清楚了 Unix 和 C 语言是怎么来的了，以及为什么要用 C 语言来编写 Unix。现在有很多非常流行的语言比如 Java 和 Python，它们是一种更高级的编程语言，是在 C 语言这一层之上的。但是如果大家想做设备驱动或者系统内核模块的修改，还是离不开 C 语言这把利器。