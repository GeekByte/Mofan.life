---
title: Vim常用操作
categories:
  - Tools
  - Vim
tags:
  - Vim
date: 2021-04-13 08:42:29
---

### 查找

**/text** : 正向查找`text`，按`n`查找下一个，按`N`查找上一个。

**?text** : 反向查找`text`，按`n`查找下一个，按`N`查找上一个。

***/#** ： 查找光标当前的单词，如果光标当前单词为`text`，那么就是查找`text`。

**:set ignorecase** ：设置查找忽略大小写。

**:set noignorecase** ：设置查找不忽略大小写。

**:nohisearch** : 关闭当前的高亮显示，当再次查找时恢复高亮。

**:set incsearch** : 逐步搜索模式，对当前渐入的字符进行查找，不必等待输入完成再查找。

**:set wrapscan** : 重新搜索，当搜索到文件头或尾时，返回重新搜索。

### 编辑

#### 删除

**x 或 Del** ：删除光标所在处的单个字符。

**dd** : 删除当前光标所在的行。

**#dd** : 删除从光标处开始的`#`行内容，`#`是一个数字。

**d^** : 删除一行中从光标位置到行首的所有字符。

**d$** : 删除一行中从光标位置到行尾的所有字符。

#### 复制

**yy** : 复制当前行的内容到剪切板。

**#yy** : 复制从光标处开始的`#`行内容，`#`是一个数字。

#### 粘贴

**p** : 将缓冲区的内容粘贴到光标位置处之后（小写）。

**P** : 将缓冲区的内容粘贴到光标位置处之前（大写）。

#### 插入

**i** : 在当前位置插入

**A** : 在当前行尾插入

**I** : 在当前行首插入

**o** : 在当前行后插入一行

**O** : 在当前行前插入一行

### 文件窗口:

:open file --在当前窗口打开新文件

:split file --在新窗口打开文件

:new file --用新窗口打开文件,同 :split file

:bn --切换到下一个文件

:bp --切换到上一个文件

:args --查看当前打开的文件列表(当前正在编辑的文件会用[]括起来)

:e ftp://192.168.10.76/abc.txt

:e \qadrive est.txt --打开远程文件

:split --打开一个新窗口,光标停在顶层的窗口上

:new --打开一个新窗口,光标停在顶层的窗口上

:vsplit --横向打开窗口。

Ctrl+ww --移动到下一个窗口

Ctrl+wj --移动到下方的窗口

Ctrl+wk --移动到上方的窗口

2、其他命令:

Esc/Ctrl+[ -- 键入命令

:!command --执行shell命令

:suspend/Ctrl+Z --挂起vim,回到shell,fg 返回vim

:!perl -c script.pl --检查perl脚本语法,不用退出vim

:!perl script.pl --执行perl脚本, 不用退出vim

:help --显示帮助文档

:help i --显示i的帮助文档(:特殊键用<>, -t:启动参数用-)

3、编辑命令:



拷贝粘贴剪切:

yy --拷贝当前行

2yy --拷贝当前行开始的2行

p --在当前光标后粘贴

P --在当前行前粘贴

:1,10 co 20 --将1-10行插入到第20行之后。

:1,$ co $ --将整个文件复制一份并添加到文件尾部

v --进入选择模式,相当于在Windows下按住 Shift选择

V --进入选择模式,整行选择

ddp --交换当前行和其下一行

2dd --剪切当前行之后的2行

:1,10d --将1-10行剪切

:1, 10 m 20 --将第1-10行移动到第20行之后

替换:

ra --将当前光标所在字符替换为a

s/old/new/ --用old替换new,替换当前行的第一个匹配

s/old/new/g --用old替换new,替换当前行的所有匹配

%s/old/new/ --用old替换new,替换所有行的第一个匹配

%s/old/new/g --用old替换new,替换所有匹配

:10,20 s/^/text/g --在第10行到第20行每行前面加上text(:3,5 s/^/#/g --注释3-5行, :3,5 s/^#//g
--解除3-5行的注释, :1,$ s/^/#/g --注释整个文档, :%s/^/#/g --注释整个文档)

ddp --交换光标所在行和下一行

移动:

h --左移一个字符(5h --左移5个字符)

l --右移一个字符(5l --右移5个字符)

k --上移一个字符(5k --上移5个字符)

j --下移一个字符(5j --下移5个字符)

w --向后移动一个单词(5w --向后移动5个单词)

b --向前移动一个单词(5b --向前移动5个单词)

e --同 w ,光标停在单词尾部

ge --同 e ,光标停在单词尾部

^ --移动到本行第一个非空白字符

0 --移动到本行第0个字符

--同0

$ --移动到行尾(3$ --移动到下面3行的行尾)

gg --移动到文件头(10gg --移动到第10行首)

[[ --同 gg

G --移动到文件尾(10G --移动到第10行尾)

]] --同 G

fx --移动到本行光标后第一个为x的字符(3fx --移动到本行光标后第3个为x的字符)

Fx --同 fx ,反向查找

:20 --跳到20行行首

Ctrl+e --向下滚动一行

Ctrl+y --向上滚动一行

Ctrl+d --向下滚动半屏

Ctrl+u --向上滚动半屏

Ctrl+f --向下滚动一屏

Ctrl+b --向上滚动一屏

撤销:

u --撤销

U --撤销对整行的操作

Ctrl+r --撤销刚才的撤销

删除:

x --删除当前字符(3x --删除当前光标开始向后三个字符)

X --删除当前字符的前一个字符, 同 dh

dl --删除当前字符, 同 x

dh --删除前一个字符

dd --删除当前行

dj --删除上一行

dk --删除下一行

10d --删除当前行开始的10行。

D --删除当前字符至行尾, 同 d$

kdgg --删除当前行之前所有行(不包括当前行)

:1,10d --删除1-10行

:11,$d --删除11行及以后所有的行

:1,$d --删除所有行

J　--删除两行之间的空行, 合并两行

退出

:wq --保存并退出

ZZ --保存并退出

:q! --强制退出并忽略所有更改

:e! --放弃所有修改，并打开原来文件

:close --关闭窗口,最后一个窗口不能使用此命令,可以防止意外退出vim

:q --如果是最后一个被关闭的窗口，那么将退出vim



1、文件窗口:

:open file --在当前窗口打开新文件

:split file --在新窗口打开文件

:new file --用新窗口打开文件,同 :split file

:bn --切换到下一个文件

:bp --切换到上一个文件

:args --查看当前打开的文件列表(当前正在编辑的文件会用[]括起来)

:e ftp://192.168.10.76/abc.txt

:e \qadrive est.txt --打开远程文件

:split --打开一个新窗口,光标停在顶层的窗口上

:new --打开一个新窗口,光标停在顶层的窗口上

:vsplit --横向打开窗口。

Ctrl+ww --移动到下一个窗口

Ctrl+wj --移动到下方的窗口

Ctrl+wk --移动到上方的窗口

2、其他命令:

Esc/Ctrl+[ -- 键入命令

:!command --执行shell命令

:suspend/Ctrl+Z --挂起vim,回到shell,fg 返回vim

:!perl -c script.pl --检查perl脚本语法,不用退出vim

:!perl script.pl --执行perl脚本, 不用退出vim

:help --显示帮助文档

:help i --显示i的帮助文档(:特殊键用<>, -t:启动参数用-)

3、编辑命令:

插入:

i --在当前位置插入

A --在当前行尾插入

I --在当前行首插入

o --在当前行后插入一行

O --在当前行前插入一行

拷贝粘贴剪切:

yy --拷贝当前行

2yy --拷贝当前行开始的2行

p --在当前光标后粘贴

P --在当前行前粘贴

:1,10 co 20 --将1-10行插入到第20行之后。

:1,$ co $ --将整个文件复制一份并添加到文件尾部

v --进入选择模式,相当于在Windows下按住 Shift选择

V --进入选择模式,整行选择

ddp --交换当前行和其下一行

2dd --剪切当前行之后的2行

:1,10d --将1-10行剪切

:1, 10 m 20 --将第1-10行移动到第20行之后

替换:

ra --将当前光标所在字符替换为a

s/old/new/ --用old替换new,替换当前行的第一个匹配

s/old/new/g --用old替换new,替换当前行的所有匹配

%s/old/new/ --用old替换new,替换所有行的第一个匹配

%s/old/new/g --用old替换new,替换所有匹配

:10,20 s/^/text/g --在第10行到第20行每行前面加上text(:3,5 s/^/#/g --注释3-5行, :3,5 s/^#//g
--解除3-5行的注释, :1,$ s/^/#/g --注释整个文档, :%s/^/#/g --注释整个文档)

ddp --交换光标所在行和下一行

移动:

h --左移一个字符(5h --左移5个字符)

l --右移一个字符(5l --右移5个字符)

k --上移一个字符(5k --上移5个字符)

j --下移一个字符(5j --下移5个字符)

w --向后移动一个单词(5w --向后移动5个单词)

b --向前移动一个单词(5b --向前移动5个单词)

e --同 w ,光标停在单词尾部

ge --同 e ,光标停在单词尾部

^ --移动到本行第一个非空白字符

0 --移动到本行第0个字符

--同0

$ --移动到行尾(3$ --移动到下面3行的行尾)

gg --移动到文件头(10gg --移动到第10行首)

[[ --同 gg

G --移动到文件尾(10G --移动到第10行尾)

]] --同 G

fx --移动到本行光标后第一个为x的字符(3fx --移动到本行光标后第3个为x的字符)

Fx --同 fx ,反向查找

:20 --跳到20行行首

Ctrl+e --向下滚动一行

Ctrl+y --向上滚动一行

Ctrl+d --向下滚动半屏

Ctrl+u --向上滚动半屏

Ctrl+f --向下滚动一屏

Ctrl+b --向上滚动一屏

撤销:

u --撤销

U --撤销对整行的操作

Ctrl+r --撤销刚才的撤销

删除:

x --删除当前字符(3x --删除当前光标开始向后三个字符)

X --删除当前字符的前一个字符, 同 dh

dl --删除当前字符, 同 x

dh --删除前一个字符

dd --删除当前行

dj --删除上一行

dk --删除下一行

10d --删除当前行开始的10行。

D --删除当前字符至行尾, 同 d$

kdgg --删除当前行之前所有行(不包括当前行)

:1,10d --删除1-10行

:11,$d --删除11行及以后所有的行

:1,$d --删除所有行

J　--删除两行之间的空行, 合并两行

退出

:wq --保存并退出

ZZ --保存并退出

:q! --强制退出并忽略所有更改

:e! --放弃所有修改，并打开原来文件

:close --关闭窗口,最后一个窗口不能使用此命令,可以防止意外退出vim

:q --如果是最后一个被关闭的窗口，那么将退出vim
